{% extends "base.html" %}
{% block content %}
    
    <h3 class="center-align">My Recipes</h3>
    
    <div class="row">
        {% for recipe in my_recipes %}
        {% set recipe_number = loop.index %}
        <div class="col s12 m3 l4">
            <div class="card recipe{{ recipe_number }} recipe-card">
                <div class="card-image">
                    <img src="{{ recipe.image_url }}">
                    <span class="card-title">Card Title</span>
                </div>
                <div class="card-content">
                    <h5>{{ recipe.recipe_name }}</h5>
                    <p>{{ recipe.recipe_description }}</p>
                    <span>Added by: {{ recipe.added_by }}</span>
                </div>
                <div class="card-action center-align">
                    <form method="POST" action="/recipe_details/<see_recipe>">
                        <input type="hidden" id="see_recipe" name="see_recipe" value="{{ recipe._id }}">
                        <!-- set my_recipes to true for back button redirect on Recipe details -->
                        <input type="hidden" id="my_recipes" name="my_recipes" value="{{ True }}">
                        <button type="submit" class="btn waves-effect waves-light green ">
                            See Recipe
                        </button>
                    </form>
                </div>
            </div>
            <div class="edit_buttons center-align">
                <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" class="btn-small">Edit</a>
                <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}" class="btn-small red">Delete</a>
            </div>
        </div>
        {%  endfor %}
    </div>

{% endblock %}
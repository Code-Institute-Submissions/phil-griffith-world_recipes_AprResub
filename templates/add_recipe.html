{% extends "base.html" %}
{% block content %}

    <h3 class="center-align">Add Recipe</h3>

    <!-- Add recipe form -->
    <div class="card-panel z-depth-5">
        <form class="" method="POST" action="{{ url_for('add_recipe') }}">

            <!-- Recipe name field -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">local_dining</i>
                    <input id="recipe_name" name="recipe_name" type="text" class="validate" required="required">
                    <label for="recipe_name">Recipe Name</label>
                </div>
            </div>
            <!-- /Recipe name field -->

            <!-- Recipe image URL field -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">panorama</i>
                    <!-- https://html5-tutorial.net/form-validation/validating-urls/ -->
                    <input id="image_url" name="image_url" type="url" pattern="https?://.+" class="validate" required="required">
                    <label for="image_url">Recipe image URL</label>
                </div>
            </div>
            <!-- /Recipe image URL field -->

            <!-- Recipe category field -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">folder_open</i>
                    <select id="category_name" name="category_name" class="validate" required="required">
                        <option value="" disabled="disabled" selected="selected">Recipe category</option>
                        {% for category in categories %}
                            <option value="{{ category.category_name }}">{{ category.category_name }}</option>
                        {% endfor %}
                    </select>
                    <label for="category_name">Recipe category</label>
                </div>
            </div>
             <!-- /Recipe category field -->

            <!-- Recipe description field -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">format_align_center</i>
                    <textarea id="recipe_description" name="recipe_description" class="materialize-textarea validate" minlength="5" maxlength="200" required="required"></textarea>
                    <label for="recipe_description">Recipe Description</label>
                </div>
            </div>
            <!-- /Recipe description field -->

            <!-- Vegetarian recipe select field -->
            <div class="row">
                <div class="input-field col s12">
                    <div class="switch">
                        <i class="material-icons prefix">local_florist</i>
                        <label for="is_vegetarian">
                            <input type="checkbox" id="is_vegetarian" name="is_vegetarian">
                            <span class="lever"></span>
                            Vegetarian
                        </label>
                    </div>
                </div>
            </div>
            <!-- /Vegetarian recipe select field -->

            <!-- Recipe country of origin field -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">flag</i>
                    <select id="country" name="country">
                        <option value="" disabled="disabled" selected="selected">Select Country</option>
                        {% for country in countries %}
                            <option value="{{ country.name }}">{{ country.name }}</option>
                        {% endfor %}
                    </select>
                    <label>Country of origin</label>
                </div>
            </div>
            <!-- /Recipe country of origin field -->

            <!-- Ingredients field -->
            <div id="ingredients">
                <div class="row" id="ingredient_1">
                    <div class="input-field col s8">
                        <i class="material-icons prefix">kitchen</i>
                        <input id="ingredient1" name="ingredient1" type="text" class="validate" required="required">
                        <label for="ingredient1">Ingredient 1</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="quantity1" name="quantity1" type="text" class="validate" required="required">
                        <label for="quantity1">Quantity</label>
                    </div>
                </div>
            </div>
            <!-- /Ingredients field -->

            <!-- Add ingredients button -->
            <div class="row ingredient-buttons" id="buttons">
                <button type="button" id="add_ingredient" class="btn-small">Add Ingredient</button>
            </div>
            <!-- /Add ingredients button -->
            

            <!-- Recipe method field -->
            <div id="method">
                <div class="row" id="step_1">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">build</i>
                        <textarea id="step1" name="step1" class="materialize-textarea validate" minlength="5" maxlength="200" required="required"></textarea>
                        <label for="step1">Step 1</label>
                    </div>
                </div>
            </div>
            <!-- /Recipe method field -->

            <!-- Add step button -->
            <div class="row method-buttons" id="m_buttons">
                <button type="button" id="add_step" class="btn-small">Add Step</button>
            </div>
            <!-- /Add step button -->

            <!-- Recipe background story field -->
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">format_align_center</i>
                    <textarea id="recipe_story" name="recipe_story" class="materialize-textarea validate" maxlength="500"></textarea>
                    <label for="recipe_story">Recipe background story (optional)</label>
                </div>
            </div>
            <!-- /Recipe background story field -->

            <!-- Submit button -->
            <div class="center-align">
                <button class="btn-small waves-effect waves-light submit-buttons" type="submit">Submit
                    <i class="material-icons right">send</i>
                </button>
                <a href="{{ url_for('home') }}" class="waves-effect waves-light btn-small red">
                    Cancel
                </a>
            </div>
            <!-- /Submit button -->

        </form>
    </div>
    <!-- Add recipe form -->

{% endblock %}